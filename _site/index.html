<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Cody Bunch &middot; Some Random IT Guy - OpenStack, DevOps, Cloud, Things
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>Offering all manner of technical how-to (and how not to) and other technical content. I specalize in OpenStack, VMware, and most things automation and cloud related.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item active" href="/">Home</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about/">About</a>
        
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    

    <a class="sidebar-nav-item" href="/archive/v1.0.0.zip">Download</a>
    <a class="sidebar-nav-item" href="">GitHub project</a>
    <span class="sidebar-nav-item">Currently v1.0.0</span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2015. This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Cody Bunch</a>
            <small>Some Random IT Guy - OpenStack, DevOps, Cloud, Things</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2015/02/20/A-Detour-Into-Camp-Coffee/">
        A Detour Into Camp Coffee
      </a>
    </h1>

    <span class="post-date">20 Feb 2015</span>

    <p>What? Camp who?</p>

<p><img src="https://pbs.twimg.com/media/B91WL3nCQAAuegd.jpg:large" alt="https://pbs.twimg.com/media/B91WL3nCQAAuegd.jpg:large"></p>

<p>I like coffee. A lot. As spring approaches, I am also gearing up to head back outdoors. Camping and coffee don&#39;t always get along, however. That is, you can make some really good coffee when doing &quot;plop and drop&quot; camping, but if you&#39;re reducing the amount of kit you carry, your options start to get really limited.</p>

<p>With that in mind, I decided to take on the &#39;Camp Coffee&#39; problem by well... trying all the coffee. For Science!</p>

<h1>Camp Coffee Showdown</h1>

<p>There were about 6 rounds involved in this, ranging from instant to stove top. Each produced hugely different results and what follows are my experiences with each. You&#39;ll note the &#39;stove top&#39; was used here, as conditions outside weren&#39;t conducive to fire construction.</p>

<p>The rounds:</p>

<ul>
<li>Taster&#39;s Choice</li>
<li>Folgers Instant</li>
<li>Starbucks VIA</li>
<li>Percolator</li>
<li>Cowboy / Turkish</li>
<li>Mokka</li>
</ul>

<blockquote>
<p><strong>Note:</strong> Before we get too deep into this, I left out some of the standard options, travel french press, aeropress, etc. While you can pack those, they&#39;re also more or less known quantities / qualities.</p>
</blockquote>

<h2>Camp Coffee Round 1 - Taster&#39;s Choice</h2>

<p><img src="https://pbs.twimg.com/media/B9QBP0bCUAA4E6M.jpg:large" alt="https://pbs.twimg.com/media/B9QBP0bCUAA4E6M.jpg:large"></p>

<p><img src="https://pbs.twimg.com/media/B9QBPz1CUAAVQoT.jpg:large" alt="https://pbs.twimg.com/media/B9QBPz1CUAAVQoT.jpg:large"></p>

<p>Yes it&#39;s instant coffee. It is also everything that is wrong in the world, in the universe, all bundled up into one little package of crystallized hate. I mean, I suppose it&#39;s coffee, if you like aromatic gym socks and hints of industrial cleanser. This was the only one in the round up to make me spit and pour it out as fast as I could.</p>

<p><strong>Quality</strong>: None. There was no quality here. Unless you are trying to get an oil stain out of your driveway I guess.</p>

<p><strong>Trouble</strong>: All of it. All the trouble.</p>

<h2>Camp Coffee Round 2 - Folgers Instant</h2>

<p><img src="https://pbs.twimg.com/media/B9QD9tACEAEUmlt.jpg:large" alt="https://pbs.twimg.com/media/B9QD9tACEAEUmlt.jpg:large"></p>

<p><img src="https://pbs.twimg.com/media/B9QD9sNCUAEoFrK.jpg:large" alt="https://pbs.twimg.com/media/B9QD9sNCUAEoFrK.jpg:large"></p>

<p>This stuff is magic. That is, after the old armpit socks from the last round, it was amazing how much like Folgers this tasted. Not sure if that is a compliment or not, but well, it was tolerable.</p>

<p><strong>Quality</strong>: Only if I can&#39;t find VIA</p>

<p><strong>Trouble</strong>: None</p>

<h2>Camp Coffee Round 3 - Starbucks VIA</h2>

<p><img src="https://pbs.twimg.com/media/B9QGar9CUAANM3I.jpg:large" alt="https://pbs.twimg.com/media/B9QGar9CUAANM3I.jpg:large"></p>

<p><img src="https://pbs.twimg.com/media/B9QGarvCQAA9O5U.jpg:large" alt="https://pbs.twimg.com/media/B9QGarvCQAA9O5U.jpg:large"></p>

<p>Nothing fancy here. Hot water, Coffee Powder, Stir. It is the stir part that will get you. Unlike the other two &#39;instant&#39; coffees in the round up, this one uses a &#39;micro-grind&#39; of sorts. Like cowboy below, don&#39;t drink the last sip.</p>

<p><strong>Quality</strong>: Decent, bordering on good</p>

<p><strong>Trouble</strong>: None</p>

<h2>Camp Coffee Round 4 - Percolator</h2>

<p><img src="https://pbs.twimg.com/media/B9QKdBgCAAEPYpw.jpg:large" alt="https://pbs.twimg.com/media/B9QKdBgCAAEPYpw.jpg:large"></p>

<p><img src="https://pbs.twimg.com/media/B9QKdChCAAEidGd.jpg:large" alt="https://pbs.twimg.com/media/B9QKdChCAAEidGd.jpg:large"></p>

<p>The coffee snob in me is almost ashamed of having done a percolated pot. Yes, it&#39;s an American coffee staple. Yes, it&#39;s what I grew up on. Yes, it brings back the memory of that amazing trip to Bear Den campground in North Carolina where I brewed my parents a cup of coffee, and completely forgot the water. Apparently one can burn coffee.</p>

<p>The flip side of this is: I could totally see bringing a fire or stove top pot on a trip if I had a smaller one in my arsenal.</p>

<p><strong>Quality</strong>: Alright</p>

<p><strong>Trouble</strong>: Don&#39;t forget the water.</p>

<h2>Camp Coffee Round 5 - Cowboy / Turkish</h2>

<p><img src="https://pbs.twimg.com/media/B9QS9-JCUAIS70d.jpg:large" alt="https://pbs.twimg.com/media/B9QS9-JCUAIS70d.jpg:large"></p>

<p><img src="https://pbs.twimg.com/media/B9QS9__CYAEgs2L.jpg:large" alt="https://pbs.twimg.com/media/B9QS9__CYAEgs2L.jpg:large"></p>

<p><img src="https://pbs.twimg.com/media/B9QUlDhCIAEjnJR.jpg:large" alt="https://pbs.twimg.com/media/B9QUlDhCIAEjnJR.jpg:large"></p>

<p>So I call this Cowboy rather than Turkish, as well, they&#39;re prepared almost the same: powdered coffee grounds, boiled in the water a few times. The differentiation here, is that Turkish generally calls for an almost equal amount of sugar to go with it. Brewing it was fast, but it was still a bit of trouble that is, having to schlep the grinder and the little Turkish pot thing. It was also gritty as heck. The slurry at the bottom should only be consumed if you need real ultimate power.</p>

<p><strong>Quality</strong>: Good</p>

<p><strong>Trouble</strong>: Medium</p>

<h2>Camp Coffee Round 6 - Mokka</h2>

<p><img src="https://pbs.twimg.com/media/B9QVhy-CIAIf6qg.jpg" alt="https://pbs.twimg.com/media/B9QVhy-CIAIf6qg.jpg"></p>

<p><img src="https://pbs.twimg.com/media/B9QVhyZCMAAJlzp.jpg" alt="https://pbs.twimg.com/media/B9QVhyZCMAAJlzp.jpg"></p>

<p>The stove top Mokka pot. This along with the percolator in round 4 is how I grew up drinking coffee. At my grandfather&#39;s house it&#39;d be called &quot;black&quot; coffee and brought out around the holidays or when he was playing cards out by the pool with his buddies. It was often mixed with Sambuca around the holidays. I knew what to expect on this one. It was added to get an idea of the time vs trouble. It was a lot trouble, btw. Good for a plop and drop setup, but not so much if you need mobility.</p>

<p><strong>Quality</strong>: Great</p>

<p><strong>Trouble</strong>: A lot</p>

<h1>Camp Coffee Summary</h1>

<p>Let it not be said there are not consequences to drinking 6 cups of coffee in less than an hour. With that, I&#39;ll likely go this season with either an Aeropress, Cowboy, or Via depending on packing requirements.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2015/01/09/Basic-Server-Hardening-with-Salt/">
        Basic Server Hardening with Salt
      </a>
    </h1>

    <span class="post-date">09 Jan 2015</span>

    <p>Before we get started, take a gander at my last few posts on this, <a href="http://openstack.prov12n.com/basic-hardening-part-2-using-heat-templates/">here</a> and <a href="http://openstack.prov12n.com/basic-hardening-with-user-data-cloud-init/">here</a>.</p>

<p>The idea here is roughly the same. That is, build a small, basic &#39;base&#39; profile, template, state, or whatever, that has some simple hardening bits applied. The idea being to give you a reasonable start in turn letting you apply additional layers down the road.</p>

<p>The reason you&#39;d move away from doing this with OpenStack Orchestration (Heat) and into a config management tool is that it allows you to apply the same practices more generically. That is not everyone runs OpenStack, but lots of folks are moving to some flavor of configuration management tool, if they weren&#39;t there already. You can then include these SaltStates in Heat or whatever orchestration tool of choice.</p>

<h2>Basic Hardening with SaltStack</h2>

<p>For the sake of not making this a <em>huge-tastic</em> blog post, we&#39;ll skip the part where I explain the what and how of getting started with SaltStack. Many others have done better than I. What follows is my top.sls, secureserver.sls and sysctl.sys files.</p>

<h3>top.sls</h3>

<p>This file controls what Salt minions get what &#39;states&#39;. For securing <em>all</em> the servers, that&#39;s pretty straight forward. I would like to call out, however, the ordering of the states:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">base:
  &#39;*&#39;:
    - sysctl
    - secureserver
</code></pre></div>
<p>This defines a &#39;base&#39; state that will match for all Salt minions. (Minion is Salt for agent.) It then states to apply first the sysctl state, then the secureserver state.</p>

<h3>sysctl.sls</h3>

<p>There isn&#39;t much fancy to this file. In fact, it&#39;s more or less a YAML formatted version of what you&#39;d throw into <code>/etc/sysctl.conf</code>. What the lines below do is turn off IP routing, ignore broadcasts, responses, and all manner of other fun icmp stuff.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">net.ipv4.icmp_echo_ignore_broadcasts:
  sysctl.present:
    - value: 1

net.ipv4.icmp_ignore_bogus_error_responses:
  sysctl.present:
  - value: 1

net.ipv4.tcp_syncookies:
  sysctl.present:
    - value: 1

net.ipv4.conf.all.log_martians:
  sysctl.present:
  - value: 1

net.ipv4.conf.default.log_martians:
  sysctl.present:
    - value: 1

net.ipv4.conf.all.accept_source_route:
  sysctl.present:
    - value: 0

net.ipv4.conf.default.accept_source_route:
  sysctl.present:
    - value: 0

net.ipv4.conf.all.rp_filter:
  sysctl.present:
    - value: 1

net.ipv4.conf.default.rp_filter:
  sysctl.present:
    - value: 1

net.ipv4.conf.all.accept_redirects:
  sysctl.present:
    - value: 0

net.ipv4.conf.default.accept_redirects:
  sysctl.present:
    - value: 0

net.ipv4.conf.all.secure_redirects:
  sysctl.present:
    - value: 0

net.ipv4.conf.default.secure_redirects:
  sysctl.present:
    - value: 0

net.ipv4.ip_forward:
  sysctl.present:
    - value: 0

net.ipv4.conf.all.send_redirects:
    sysctl.present:
    - value: 0

net.ipv4.conf.default.send_redirects:
  sysctl.present:
    - value: 0
</code></pre></div>
<h3>secureserver.sls</h3>

<p>This file, unlike the sysctl bits, actually does some install and config bits. If you&#39;ve read the post I mentioned at the beginning of this post, you&#39;ll recognize the packages being installed.</p>

<p>The configure bits are two fold: 1) We configure logwatch using a file hosted on the Salt master; 2) We configure IP tables to allow ssh and deny all the other things:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">iptables:
  pkg:
    - installed

denyhosts:
  pkg:
    - installed

psad:
  pkg:
    - installed

fail2ban:
  pkg:
    - installed

logwatch:
  pkg:
    - installed

aide:
  pkg:
    - installed

/etc/cron.daily/00logwatch:
  file:
    - managed
    - source: salt://cron.daily/00logwatch
    - require:
      - pkg: logwatch

ssh:
  iptables.append:
    - table: filter
    - chain: INPUT
    - jump: ACCEPT
    - match: state
    - connstate: NEW
    - dport: 22
    - proto: tcp
    - sport: 1025:65535
    - save: True

allow established:
  iptables.append:
    - table: filter
    - chain: INPUT
    - match: state
    - connstate: ESTABLISHED
    - jump: ACCEPT

default to reject:
  iptables.append:
    - table: filter
    - chain: INPUT
    - jump: REJECT
</code></pre></div>
<h2>Summary</h2>

<p>In this post we&#39;ve covered how to do some very very basic hardening of your server using SaltStack. This likely wont work for all circumstances (like if you&#39;re going to actually run nginx or apache, you need to add those ports accordingly).</p>

<h2>Resources</h2>

<ul>
<li><a href="https://www.thefanclub.co.za/how-to/how-secure-ubuntu-1204-lts-server-part-1-basics">https://www.thefanclub.co.za/how-to/how-secure-ubuntu-1204-lts-server-part-1-basics</a></li>
<li><a href="http://openstack.prov12n.com/basic-hardening-with-user-data-cloud-init/">http://openstack.prov12n.com/basic-hardening-with-user-data-cloud-init/</a></li>
<li><a href="http://plusbryan.com/my-first-5-minutes-on-a-server-or-essential-security-for-linux-servers">http://plusbryan.com/my-first-5-minutes-on-a-server-or-essential-security-for-linux-servers</a></li>
<li><a href="http://www.softpanorama.org/Net/Transport_layer/hardening_tcp_stack_in_linux.shtml">http://www.softpanorama.org/Net/Transport<em>layer/hardening</em>tcp<em>stack</em>in_linux.shtml</a></li>
<li><a href="http://docs.saltstack.com/en/latest/ref/states/all/salt.states.sysctl.html">http://docs.saltstack.com/en/latest/ref/states/all/salt.states.sysctl.html</a></li>
<li><a href="http://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.ssh.html">http://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.ssh.html</a></li>
<li><a href="http://linuxconfig.org/collection-of-basic-linux-firewall-iptables-rules">http://linuxconfig.org/collection-of-basic-linux-firewall-iptables-rules</a></li>
<li><a href="http://docs.saltstack.com/en/latest/ref/states/all/salt.states.iptables.html">http://docs.saltstack.com/en/latest/ref/states/all/salt.states.iptables.html</a></li>
</ul>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2015/01/08/Link-Dump---Random-Edition/">
        Link Dump - Random Edition
      </a>
    </h1>

    <span class="post-date">08 Jan 2015</span>

    <p>Today&#39;s link dump is brought to you by Google Chrome and my poor swap file.</p>

<ul>
<li><a href="https://github.com/prakhar1989/awesome-courses">Things to do in 2015 (Comp Sci Learnings)</a></li>
<li><a href="http://dcg.ethz.ch/lectures/podc_allstars/lecture/podc.pdf">Principals of Distributed Computing</a></li>
<li><a href="http://www.hpcs.cs.tsukuba.ac.jp/%7Etatebe/lecture/h23/dsys/dsd-tutorial.html">Google Distributed Systems Class / Book</a></li>
<li><a href="http://www.cs.cornell.edu/Courses/CS5412/2014sp/Syllabus.htm">Some Distributed systems slides</a></li>
<li><a href="http://www.amazon.com/Guide-Reliable-Distributed-Systems-High-Assurance/dp/1447124154">Guide to Reliable Distributed Systems</a></li>
<li><a href="https://github.com/sophron/wifiphisher">Wifi Phisher</a></li>
<li><a href="https://github.com/xiam/hyperfox">Hyperfox</a></li>
<li><a href="https://github.com/buffer/thug">Thug</a></li>
<li><a href="http://bruteforce.gr/">Some cool projects</a></li>
<li><a href="http://www.technologyreview.com/twelvetomorrows/14/">Twelve Tomorrows</a></li>
</ul>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2015/01/07/On-OpenStack-2015-Board-Elections/">
        On OpenStack 2015 Board Elections
      </a>
    </h1>

    <span class="post-date">07 Jan 2015</span>

    <p>Sometime back in November, I received an email stating that I had been nominated, by the OpenStack community, to run for an Individual Board Member position. It was very shortly thereafter I had the 10 needed nominations to get on the ballot. I was super excited at the prospect, and am super humbled that I&#39;d even be considered.</p>

<p>Let me say that again. I am incredibly humbled that the community reached out and hopped on to support my nomination.</p>

<p>I repeat that, because at this time, I&#39;m deciding to back out of the election for two reasons. First and foremost, family considerations. Due to unforeseen family circumstances, I need to take a few steps back from the various things I am involved in for a while.</p>

<p>My second reason for backing out, is the entry of <a href="http://www.openstack.org/community/members/profile/3106">Egle</a> (<a href="https://twitter.com/eglute">@eglute</a> | <a href="http://anystacker.com/">AnyStacker</a>) into the elections. Having worked closely with Egle on a number of workshops, books, and work projects over the last few years, I can say that y&#39;all will be in great hands if she&#39;s elected.</p>

<p>Thank you again for your all your support. Mayhaps next time.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2014/12/30/Unbreak-Email-3-folders-2-times-a-day-1-rule/">
        Unbreak Email in 2015: 3 folders, 2 times a day, 1 rule
      </a>
    </h1>

    <span class="post-date">30 Dec 2014</span>

    <p>With the new year upon us, a lot of you will likely make some manner of commitment to be better at handling communications, process email, and in general, get things done.</p>

<p>Here&#39;s a system I&#39;ve built / adapted from others who are much more effective at email than I am. The system in general has helped reduce stress and help me focus on and engage better with the parts of email that matter. Because I am lazy, it&#39;s also super simple and automated to a degree. I am not prescribing this as a fix to all of your email woes, rather, suggesting that like me, you read, learn, and adapt it to help improve how you handle email next year. (<em>ZOMG RUNON</em>)</p>

<p>It&#39;s got some basic components, and because lists are a good SEO / Click-Bait thing, that&#39;s how we&#39;ll arrange it:</p>

<h1>Unbreak Email</h1>

<ul>
<li>3 Folders</li>
<li>2 Times a day</li>
<li>1 Processing Rule</li>
</ul>

<h2>3 Folders</h2>

<p>It&#39;s actually two for processing and one for storing reference material. These folders are:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">-&gt; Inbox
|-&gt; I&#39;m Awesome
|-&gt; Done
</code></pre></div>
<p>The basic workflow is that everything lands in the inbox, and gets processed into either the &quot;I&#39;m Awesome&quot; (or Kudos, etc) folder or into the Done folder.</p>

<p>What is this &quot;I&#39;m Awesome&quot; folder? It actually serves a few needs. </p>

<p>First and foremost it&#39;s a tool to be used around review time. That is, you take any email where someone thanks you for a job well done, a contribution to a project, and other similar things, and place them here. If you do self-reviews, retrospectives, or other similar management things, it is handy to have this as a reminder of the contributions you&#39;ve made over that time period, and if need be, remind <em>The Man™</em>.</p>

<p>Second, and no less important, is this folders ability to recharge your batteries. If you start to experience burn out, feel like you aren&#39;t having an impact, and other similar feelings, looking back at this folder should remind you a bit about why you do what you do.</p>

<h2>2 Times A Day</h2>

<p>I generally check email twice a day. That is, across all accounts (gmail, provmware, work, etc). Twice a day.</p>

<p>This isn&#39;t a hard and fast rule. That is, emergencies and other high priority things happen in life that necessitate checking with more frequency.</p>

<p>For things like collaboration, team communication, social, and more, there are more and better, near instant forms of communication.</p>

<p>During these processing times, process the &quot;Inbox&quot; folder first, as this contains everything that is addressed to me, or needs input. Giving these priority let&#39;s you address the 20% of email that needs 80% of your attention.</p>

<p>Next, process the &quot;Done&quot; folder which will contain mostly automated emails and email list mails. In this case, the &quot;One Rule&quot; discussed next puts anything and everything that is not addressed directly to you into the Done folder. This is because in the majority of circumstances, mail coming to an email list or from an automated source is informative, but not of major consequence if missed or filed as &quot;Done&quot;.</p>

<p>As these emails in this folder are largely informative in nature, skimming them has worked well for me. Skimming strategies however, are best left for another post (or some manner of productivity expert).</p>

<h2>1 Email Rule</h2>

<p>The 1 rule to rule them all that I use to support all of the above:</p>

<p>&quot;On incoming mail, where I am not in the TO: or CC: field, move to &#39;Done&#39;&quot;.</p>

<p>This enables the bits above, and in one fell swoop, will reduce your load significantly.</p>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page2">Older</a>
  
  
    <span class="pagination-item newer">Newer</span>
  
</div>


      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
